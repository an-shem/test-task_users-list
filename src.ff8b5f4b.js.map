{"version":3,"sources":["../node_modules/nanoid/url-alphabet/index.js","../node_modules/nanoid/index.browser.js","js/markup/create-markup.js","js/create-contact.js","js/block-form.js","js/unblock-form.js","js/add-new-contact.js","js/get-form-data.js","js/markup/element-edit-markup.js","js/markup/create-edited-markup.js","js/update-contact.js","js/btn-click-handler.js","db.json","index.js"],"names":["urlAlphabet","random","bytes","crypto","getRandomValues","Uint8Array","customRandom","alphabet","size","getRandom","mask","Math","log","length","LN2","step","id","j","customAlphabet","nanoid","byte","toString","toUpperCase","creatMarkup","name","number","creatContact","newContact","blockForm","buttonForm","setAttribute","refs","inputsForm","map","input","buttonsContact","button","unblockForm","removeAttribute","addNewContact","contact","setTimeout","ul","insertAdjacentHTML","document","querySelectorAll","getFormData","e","preventDefault","target","value","reset","creatingElementEditMarkup","createEditedMarkup","updateContact","elem","innerHTML","btnClickHandler","dataId","dataset","getElementById","remove","editableElement","firstElementChild","textContent","lastElementChild","formEditRef","querySelector","addEventListener","module","exports","form","arrMarkupRef","users","join"],"mappings":"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","file":"src.ff8b5f4b.js","sourceRoot":"../src","sourcesContent":["let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport { urlAlphabet }\n","import { urlAlphabet } from './url-alphabet/index.js'\nif (process.env.NODE_ENV !== 'production') {\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, size, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * size) / alphabet.length)\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","import { nanoid } from 'nanoid';\n\nexport const creatMarkup = ({ name, number, id }) => {\n  return `\n  <li id=${id} class=\"users-list__item\">\n  <div class=\"users-list__text\">\n  <span class=\"users-list__name\">${name}</span>\n  <a class=\"users-list__phone-link\" href=\"tel:${number}\"\n  ><span class=\"users-list__phone-text\">${number}</span></a>\n  </div>\n  <div class=\"users-list__buttons\">\n  <button data-id=${id} name=\"edit\" class=\"button button__edit\" type=\"button\">Редактировать</button>\n  <button data-id=${id} name=\"delete\" class=\"button button__delete\" type=\"button\">Удалить</button>\n  </div>\n  </li>\n  `;\n};\n","import { nanoid } from 'nanoid';\n\nexport const creatContact = ({ name, number }) => {\n  const newContact = {\n    id: nanoid(),\n    name,\n    number,\n  };\n\n  return newContact;\n};\n","import { refs } from '../index';\n\nexport const blockForm = () => {\n  refs.buttonForm.setAttribute('disabled', 'true');\n  [...refs.inputsForm].map(input => input.setAttribute('disabled', 'true'));\n  [...refs.buttonsContact].map(button => button.setAttribute('disabled', 'true'));\n};\n","import { refs } from '../index';\n\nexport const unblockForm = () => {\n  refs.buttonForm.removeAttribute('disabled');\n  [...refs.inputsForm].map(input => input.removeAttribute('disabled'));\n  [...refs.buttonsContact].map(button => button.removeAttribute('disabled'));\n};\n","import { refs } from '../index';\nimport { creatMarkup } from './markup/create-markup';\nimport { blockForm } from './block-form';\nimport { unblockForm } from './unblock-form';\n\nexport const addNewContact = contact => {\n  blockForm();\n  // При работе с базой данных тот же код, но без setTimeout\n  setTimeout(() => {\n    refs.ul.insertAdjacentHTML('afterbegin', creatMarkup(contact));\n    refs.buttonsContact = document.querySelectorAll('.button');\n    unblockForm();\n  }, 2000);\n};\n","// import contactsApi from '../services/api';\nimport { creatContact } from './create-contact';\nimport { addNewContact } from './add-new-contact';\n\nexport const getFormData = e => {\n  e.preventDefault();\n  const name = e.target.name.value;\n  const number = e.target.number.value;\n  e.target.reset();\n  const newContact = creatContact({ name, number });\n\n  // Добавляем контакт в базу данных\n  // const newContact = contactsApi.addContact({ name, number });\n\n  addNewContact(newContact);\n};\n","export const creatingElementEditMarkup = ({ name, number }) => {\n  return `\n    <form class=\"form-edit\" autocomplete=\"off\">\n          <div class=\"form-edit__input-wrapper\">\n            <input\n              class=\"form-edit__input\"\n              type=\"text\"\n              name=\"name\"\n              value=${name}\n              pattern=\"\\^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\\\"\n              title=\"Имя может содержать только буквы, апостроф, тире и пробелы. Например Адриан, Якоб Мерсер, Шарль де Батц де Кастельмор д'Артаньян.\"\n              required\n            />\n          \n           <input\n              class=\"form-edit__input\"\n              type=\"tel\"\n              name=\"number\"\n              value=${number}\n              pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n              title=\"Номер телефона должен состоять из цифр и может содержать пробелы, дефисы, круглые скобки и может начинаться с +.\"\n              required\n            />\n        </div>\n         \n            <div class=\"users-list__buttons\">\n            <button name=\"save\" class=\"button button__save\"  type=\"submit\" \">Сохранить</button>\n            <button name=\"clear\" class=\"button button__clear\" type=\"button\">Очистить</button>\n            </div>\n            </form>\n  `;\n};\n","export const createEditedMarkup = ({ name, number, id }) => {\n  return `\n   <div class=\"users-list__text\">\n  <span class=\"users-list__name\">${name}</span>\n  <a class=\"users-list__phone-link\" href=\"tel:${number}\"\n  ><span class=\"users-list__phone-text\">${number}</span></a>\n  </div>\n  <div class=\"users-list__buttons\">\n  <button data-id=${id} name=\"delete\" class=\"button button__delete\" type=\"button\">Удалить</button>\n  </div>\n   `;\n};\n","import { refs } from '..';\n// import contactsApi from '../services/api';\nimport { unblockForm } from './unblock-form';\nimport { createEditedMarkup } from './markup/create-edited-markup';\n\nexport const updateContact = (e, id, elem) => {\n  const name = e.target.name.value;\n  const number = e.target.number.value;\n\n  // Обновляем контакт в базе данных\n  // const updatedContact = contactsApi.updateContact(id, { name, number });\n  // elem.innerHTML = createEditedMarkup(updatedContact);\n  // refs.buttonsContact = document.querySelectorAll('.button');\n  // unblockForm();\n\n  setTimeout(() => {\n    elem.innerHTML = createEditedMarkup({ name, number, id });\n    refs.buttonsContact = document.querySelectorAll('.button');\n    unblockForm();\n  }, 2000);\n};\n","import { refs } from '..';\n// import contactsApi from '../services/api';\nimport { blockForm } from './block-form';\nimport { creatingElementEditMarkup } from './markup/element-edit-markup';\nimport { updateContact } from './update-contact';\n\nexport const btnClickHandler = e => {\n  const name = e.target.name;\n  const dataId = e.target.dataset.id;\n\n  if (name === 'delete') {\n    const deletedContact = document.getElementById(`${dataId}`);\n    deletedContact.remove();\n\n    // Удаление из базы данных\n    // const deletedContact = contactsApi.deleteContact(dataId);\n    // if (deletedContact) {\n    //  const deletedContact = document.getElementById(`${dataId}`);\n    //  deletedContact.remove();\n    // }\n  }\n\n  if (name === 'edit') {\n    const editableElement = document.getElementById(`${dataId}`);\n    const name = editableElement.firstElementChild.firstElementChild.textContent;\n    const number = editableElement.firstElementChild.lastElementChild.textContent;\n\n    editableElement.innerHTML = creatingElementEditMarkup({ name, number });\n    const formEditRef = document.querySelector('.form-edit');\n    const btnClearRef = document.querySelector('.button__clear');\n\n    btnClearRef.addEventListener('click', () => {\n      formEditRef.firstElementChild.firstElementChild.value = '';\n      formEditRef.firstElementChild.lastElementChild.value = '';\n    });\n\n    blockForm();\n\n    formEditRef.addEventListener('submit', e => {\n      e.preventDefault();\n      refs.buttonsContact = document.querySelectorAll('.button');\n      blockForm();\n      updateContact(e, dataId, editableElement);\n    });\n  }\n};\n","module.exports=[{name:\"Jada\",number:\"447-874-5831\",id:\"1\"},{name:\"Rogers\",number:\"257-660-1844\",id:\"2\"},{name:\"June\",number:\"414-546-1655\",id:\"3\"},{name:\"Jaquan\",number:\"354-824-2952\",id:\"4\"},{name:\"Courtney\",number:\"866-451-2822\",id:\"5\"}];","import './sass/main.scss';\n// import contactsApi from './services/api';\nimport { creatMarkup } from './js/markup/create-markup';\nimport { getFormData } from './js/get-form-data';\nimport { btnClickHandler } from './js/btn-click-handler';\n\nimport users from './db.json';\n\n// Получаем контакты с базы данных\n// const users = contactsApi.getAllContacts;\n\nexport const refs = {\n  ul: document.querySelector('.users-list'),\n  form: document.querySelector('.form'),\n  buttonForm: document.querySelector('.form__button'),\n  inputsForm: document.querySelectorAll('.form__input'),\n  buttonsContact: '',\n};\n\nconst arrMarkupRef = users.map(creatMarkup).join('');\nrefs.ul.insertAdjacentHTML('afterbegin', arrMarkupRef);\n\nrefs.form.addEventListener('submit', getFormData);\nrefs.ul.addEventListener('click', btnClickHandler);\n\nrefs.buttonsContact = document.querySelectorAll('.button');\n"]}